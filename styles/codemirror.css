.cm-editor {
  @apply min-w-0 flex flex-1 h-full text-left;
  @apply bg-transparent;
}

.cm-selectionLayer {
  .cm-selectionBackground {
    @apply bg-navy-500/80 !important;
  }
}

.cm-content {
  @apply font-mono;
  @apply text-xs;
  @apply h-auto;
  @apply text-gray-200;
  @apply caret-gray-500;
}

.cm-editor .cm-scroller {
  @apply overflow-auto;
  /* Firefox scrollbar styling */
  scrollbar-color: #8F8F8F transparent;
  scrollbar-width: thin;
}

.cm-scroller::-webkit-scrollbar {
  @apply h-[8px] w-[8px];
}

.cm-scroller::-webkit-scrollbar-corner {
  @apply bg-transparent;
}

.cm-scroller::-webkit-scrollbar-thumb {
  @apply bg-black-700;
}

.cm-editor.cm-focused {
  @apply outline-none;
}

.cm-editor.cm-focused .cm-cursor {
  @apply border-l-gray-500;
}

.cm-editor .cm-gutters {
  @apply pr-2;
  @apply text-gray-800;
  @apply bg-transparent;
  @apply border-none;
}

.cm-gutter {
  @apply font-mono;
  @apply text-xs;
  @apply h-auto border-none;
  @apply bg-black-800;
}

.cm-gutter.cm-lineNumbers {
  @apply min-w-[25px];
  @apply text-right;
  @apply rounded-bl-xl;
}

.cm-editor .cm-activeLineGutter {
  @apply bg-black-800;
}

.cm-editor.cm-focused .cm-activeLineGutter {
  @apply text-gray-400;
}

.cm-editor .cm-line {
  @apply mx-1;
}

.cm-editor .cm-line.cm-activeLine {
  @apply bg-white-900/10;
  @apply rounded;
}

.cm-foldPlaceholder {
  @apply bg-transparent;
  @apply border-none;
  @apply text-gray-300;
}

.cm-content .cm-line,
.cm-editor .cm-gutters .cm-lineNumbers {
  @apply py-px;
}

/* Token styling */
/* regexp, escape, and special(string) are mapped to "cmt-string2" */
.cmt-string2 {
  @apply text-[#56b6c2];
}

/* special(variableName) to "cmt-variableName2" */
.cmt-variableName2 {
  @apply text-[#d19a66];
}

/* local(variableName) to "cmt-variableName cmt-local" */
.cmt-variableName .cmt-local {
  @apply text-[#30a];
}

/* definition(variableName) to "cmt-variableName cmt-definition" */
.cmt-variableName .cmt-definition {
  @apply text-[#61afef];
}

/* definition(propertyName) to "cmt-propertyName cmt-definition" */
.cmt-propertyName .cmt-definition {
  @apply text-[#abb2bf];
}

.cmt-link {
  @apply underline;
  @apply text-[#7d8799];
}

.cmt-heading {
  @apply font-bold underline;
}

.cmt-strikethrough {
  @apply line-through;
}

.cmt-emphasis {
  @apply italic;
}

.cmt-strong {
  @apply font-bold;
}

.cmt-keyword {
  @apply text-[#c678dd];
}

.cmt-atom {
  @apply text-[#d19a66];
}

.cmt-bool {
  @apply text-[#d19a66];
}

.cmt-url {
  @apply text-[#56b6c2];
}

.cmt-labelName {
  @apply text-[#61afef];
}

.cmt-inserted {
  @apply text-[#98c379];
}

.cmt-deleted {
  @apply text-[#e06c75];
}

.cmt-literal {
  @apply text-[#98c379];
}

.cmt-string {
  @apply text-[#98c379];
}

.cmt-number {
  @apply text-[#e5c07b];
}

.cmt-variableName {
  @apply text-[#d19a66];
}

.cmt-typeName {
  @apply text-[#e5c07b];
}

.cmt-namespace {
  @apply text-[#e5c07b];
}

.cmt-className {
  @apply text-[#e5c07b];
}

.cmt-macroName {
  @apply text-[#e06c75];
}

.cmt-propertyName {
  @apply text-[#e06c75];
}

.cmt-operator {
  @apply text-[#56b6c2];
}

.cmt-comment {
  @apply text-[#7d8799];
}

.cmt-meta {
  @apply text-[#7d8799];
}

.cmt-punctuation {}

.cmt-invalid {
  @apply text-[#ffffff];
}

.preview {
  .cm-editor .cm-scroller {
    @apply overflow-hidden;
  }

  .cm-editor .cm-gutter.cm-lineNumbers {
    @apply rounded-none;
    /* Reset border radius */
    @apply rounded-tl-lg;
  }
}

/* Autocomplete tooltin */
.cm-editor {
  .cm-tooltip.cm-tooltip-hover {
    @apply whitespace-pre-wrap;
    @apply text-xs;
    @apply border;
    @apply border-black-600;
    @apply bg-black-800;
    @apply overflow-auto;

    @apply rounded;
    @apply drop-shadow-lg;
  }

  .cm-tooltip.cm-tooltip-autocomplete {
    @apply border;
    @apply border-black-600;
    @apply bg-black-800;

    @apply rounded;
    @apply drop-shadow-lg;

    ul[role=listbox] {
      @apply rounded;
      @apply custom-scrollbar;

      li[role=option] {
        @apply p-1;
        @apply flex;
        @apply items-center;

        &[aria-selected=true] {
          @apply bg-[#00476F];
        }
      }
    }


    .cm-completionIcon {
      @apply text-xs;
      @apply w-fit;

      /* By default, the CodeMirror's icons are UTF font symbols (for example emojis) that are rendered using `:after` */
      @apply text-white-900;
      @apply font-bold;
    }

    .cm-completionLabel {
      @apply text-xs;
      @apply font-mono;
      @apply font-semibold;

      .cm-completionMatchedText {
        @apply text-[#00A4FB];
      }
    }

    .cm-completionDetail {
      @apply text-xs;
    }
  }
}